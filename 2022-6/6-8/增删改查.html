<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>CURD(增删改查)</h1>
    <button data-action="add">添加</button>
    <button data-action="edit">添加</button>
    <button data-action="del">删除</button>
    <table id="userGrid" border="1">
      <thead>
        <tr>
          <th>编号</th>
          <th>姓名</th>
          <th>年龄</th>
          <th>手机</th>
          <th>邮箱</th>
          <th>性别</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <script>
      const id = () => Math.ceil(Math.random() * 1000);
      const users = [
        {
          id: id(),
          name: "lili",
          age: 20,
          phone: 12222222,
          email: "1912927@qq.com",
          gender: 1,
        },
        {
          id: id(),
          name: "jack",
          age: 21,
          phone: 13333333,
          email: "172tr927@qq.com",
          gender: 0,
        },
      ];
      const render = function (data, el) {
        data.forEach((row) => {
          const tr = document.createElement("tr");
          const tdId = document.createElement("td");
          tdId.innerHTML = row.id;
          const tdName = document.createElement("td");
          tdName.innerHTML = row.name;
          const tdAge = document.createElement("td");
          tdAge.innerHTML = row.age;
          const tdPhone = document.createElement("td");
          tdPhone.innerHTML = row.phone;
          const tdEmail = document.createElement("td");
          tdEmail.innerHTML = row.email;
          const tdGender = document.createElement("td");
          tdGender.innerHTML = {
            1: "男",
            0: "女",
          }[row.gender];
          tr.append(tdId, tdName, tdAge, tdPhone, tdEmail, tdGender);
          el.tBodies[0].append(tr);
        });
      };
      render(users, document.getElementById("userGrid"));
      const methods = {
        add() {
          console.log("add");
        },
        edit() {
          console.log("edit");
        },
        del() {
          console.log("del");
        },
      };
      document.addEventListener("click", function (e) {
        const action = e.target.dataset.action;
        methods[action]();
      });
    </script>
  </body>
</html>
